!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);class o{constructor(e,t,n,o){this.description=e,this.value=t,this.date=new Date,this.id=o}idIncome(){void 0===localStorage.income?this.id=0:this.id=JSON.parse(localStorage.income).slice(-1)[0].id+1}idExpense(){void 0===localStorage.expense?this.id=0:this.id=JSON.parse(localStorage.expense).slice(-1)[0].id+1}calculateDate(){let e,t,n,o,r,l;t=(e=this.date).getMonth(),n=e.getDate(),o=e.getFullYear(),l=(r=["January","Febuary","March","April","May","June","July","August","September","October","November","December"])[t],this.date=`${n} ${l} ${o}`}modifyValue(){console.log(this.value);const e=this.value.toFixed(2).split("."),t=e[0];console.log(t),console.log(e[1]),t.length>6?(this.value=t.substr(0,t.length-6)+","+t.substr(t.length-6,3)+","+t.substr(t.length-3,3)+"."+e[1],console.log(this.value)):t.length>3?(this.value=t.substr(0,t.length-3)+","+t.substr(t.length-3,3)+"."+e[1],console.log(this.value)):t.length>1?this.value=t.substr(0,t.length-2)+t.substr(t.length-2,2)+"."+e[1]:t.length>0&&(this.value=t.substr(0,t.length-1)+t.substr(t.length-1,1)+"."+e[1])}}JSON.parse(localStorage.getItem("income"));const r=(e,t)=>{const n=JSON.parse(localStorage.getItem(t))||[];n.push(e),localStorage.setItem(t,JSON.stringify(n))},l=e=>{const t=JSON.parse(localStorage.getItem(e));let n=0;if(null===t)n=0;else{const e=t.length;for(let o=0;o<e;o++){t[o].value;const e=t[o].value.replace(/,/,"");n+=parseInt(e)}}return n},c=(e,t)=>{if(localStorage.getItem(e)){let n=JSON.parse(localStorage.getItem(e));n.forEach(o=>{o.id===t&&(n.splice(o,1),localStorage.setItem(e,JSON.stringify(n))),n.length<1&&localStorage.removeItem(e)})}},s=()=>{const e=l("income")-l("expense");document.querySelector(".overview__overall").innerHTML=e+"$",e>0?document.querySelector(".overview__overall").classList.add("overview__overall--green"):document.querySelector(".overview__overall").classList.add("overview__overall--red")};"overview"===document.querySelector("body").className&&(s(),(()=>{const e=document.getElementById("myChart").getContext("2d"),t=l("income"),n=l("expense");if(t>0||n>0)new Chart(e,{type:"doughnut",data:{datasets:[{data:[t,n],backgroundColor:["rgb(30,135,75)","#FF0000"],borderColor:["black","black"],borderWidth:.5}]}});else{const e='\n    <div class = "overview__no-value"> No incomes or expenses detected. Please add some!</div>\n    ';document.querySelector(".container__body").insertAdjacentHTML("beforeend",e),document.querySelector(".chart-container").style.display="none",document.querySelector(".overview__percentage").style.display="none",document.querySelector(".overview__overall").style.display="none"}})(),(()=>{const e=l("income"),t=l("expense");if(e>t){const n=`\n   <div class="overview__percentage overview__percentage--green">+${Math.round(e/t*100)}%</div>\n   `;document.querySelector(".overview__percentage").innerHTML=n}else{const n=`\n     <div class="overview__percentage overview__percentage--red">-${Math.round(t/e*100)}%</div>\n     `;document.querySelector(".overview__percentage").innerHTML=n}})());var a;"income"===document.querySelector("body").className&&(a="income",localStorage.getItem(a)&&JSON.parse(localStorage.getItem(a)).forEach(e=>{const t=`\n         <div class = "item" id= "${e.id}">\n        <div class="item__time">\n              ${e.date}\n            </div>\n            <div class="item__description">\n               ${e.description}\n            </div>\n            <div class="item__value <item__value--\x3e</item__value--\x3ered">\n             +${e.value}\n            </div>\n            <div class= "item__delete">\n              <div class="item__delete--btn"><i class="far fa-trash-alt"></i>\n              </div>\n            </div>\n          </div>\n        `;document.querySelector(".item__container").insertAdjacentHTML("beforeend",t)}),document.querySelectorAll(".item__delete").forEach(e=>{e.addEventListener("click",()=>{const t=parseInt(e.parentNode.id);document.querySelector(".item__delete")&&(e.parentNode.parentNode.removeChild(e.parentNode),c("income",t))})}));"expense"===document.querySelector("body").className&&((e=>{localStorage.getItem(e)&&JSON.parse(localStorage.getItem(e)).forEach(e=>{const t=`\n         <div class = "item" id= "${e.id}">\n        <div class="item__time">\n              ${e.date}\n            </div>\n            <div class="item__description">\n               ${e.description}\n            </div>\n            <div class="item__value item__value--red">\n             -${e.value}\n            </div>\n            <div class= "item__delete">\n              <div class="item__delete--btn"><i class="far fa-trash-alt"></i>\n              </div>\n            </div>\n          </div>\n        `;document.querySelector(".item__container").insertAdjacentHTML("beforeend",t)})})("expense"),document.querySelectorAll(".item__delete").forEach(e=>{e.addEventListener("click",()=>{const t=parseInt(e.parentNode.id);document.querySelector(".item__delete")&&(e.parentNode.parentNode.removeChild(e.parentNode),c("expense",t))})})),n(0);const i=()=>{const e=(()=>document.querySelector(".js-income-description").value)(),t=(()=>parseFloat(document.querySelector(".js-income-value").value))();if(e.length>0&&t>0){const n=new o(e,t);n.idIncome(),n.calculateDate(),n.modifyValue(),r(n,"income"),Array.from(document.querySelector(".js-income").children).forEach(e=>e.value=""),document.querySelector(".add__description").focus(),document.querySelector(".message-income").classList.add("add__message"),setTimeout(()=>{document.querySelector(".message-income").classList.remove("add__message")},1e3)}},d=()=>{const e=(()=>document.querySelector(".js-expense-description").value)(),t=(()=>parseFloat(document.querySelector(".js-expense-value").value))();if(e.length>0&&t>0){const n=new o(e,t);n.idExpense(),n.calculateDate(),n.modifyValue(),r(n,"expense"),Array.from(document.querySelector(".js-expense").children).forEach(e=>e.value=""),document.querySelector(".js-expense-description").focus(),document.querySelector(".message-expense").classList.add("add__message"),setTimeout(()=>{document.querySelector(".message-expense").classList.remove("add__message")},1e3)}};"add"===document.querySelector("body").className&&(document.querySelector(".btn--income").addEventListener("click",e=>{e.target.closest(".btn--income")&&i()}),"add"===document.querySelector("body").className&&document.querySelector(".btn--expense").addEventListener("click",e=>{e.target.closest(".btn--expense")&&d()}))}]);